<script type="text/javascript">
  $( document ).ready( function(num){

    init();

    function init(){
      num = 1;
      $( '#meeting_meeting_instances' ).val(num);
      $( '#2, #3' ).hide();
      $( '#subtract-button' ).hide();
    }

    plusOrMinusButtons();

    function plusOrMinusButtons(){
      $( '#add-button' ).click( function( e ){
        e.preventDefault();
        if (num >= 1) {
          $( '#subtract-button' ).show();
        }
        num++;
        setAmount();
        console.log(num);
      });

      $( '#subtract-button' ).click( function( e ){
        e.preventDefault();



        $( '#' + num.toString() ).hide();
        //setAmount();
        num--;
        if(num == 1){
          $( '#subtract-button' ).hide();
        }
        console.log(num)


      });
    }

    function setAmount(){
      $( '#' + num.toString() ).show();
      $( '#meeting_meeting_instances' ).val(num);
    }

    console.log(num);
  });
</script>

<div class="row">

  <%= form_for(meeting) do |f| %>
    <% if meeting.errors.any? %>
      <div id="error_explanation">
        <h2><%= pluralize(meeting.errors.count, "error") %> prohibited this meeting from being saved:</h2>

        <ul>
        <% meeting.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
        </ul>
      </div>
    <% end %>



    <div class="field">
      <%= f.label :name %>
      <%= f.text_field :name %>
    </div>

    <% if !current_page?(controller: 'meetings', action: 'new') %>
      <div class="field" id="1">
        <%= f.label :start_time %>
        <%= f.datetime_select :start_time %>
      </div>
    <% else %>
      <div class="field" id="1">
        <%= f.label :start_time %>
        <%= f.datetime_select :start_time_1 %>
      </div>
    <% end %>






    <div class="field" id="2">
      <%= f.label :start_time_2 %>
      <%= f.datetime_select :start_time_2 %>
    </div>

    <div class="field" id="3">
      <%= f.label :start_time_3 %>
      <%= f.datetime_select :start_time_3 %>
    </div>

    <% if current_page?(controller: 'meetings', action: 'new') %>
      <button id="add-button"><h4>+</h4></button>
      <button id="subtract-button"><h4>-</h4></button>
    <% end %>



    <div class="actions">
      <%= f.submit %>
    </div>

    <div class="hidden-element">
      <%= f.label :meeting_instances %>
      <%= f.text_field :meeting_instances %>
    </div>
  <% end %>

</div>
